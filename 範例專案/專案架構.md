---
date: 2022-06-16
aliases: []
tags: []
---
# 專案架構
## 2022-06-15
1. service主要集中在systems、core、lib資料夾，其中:
    1.	lib內放置函式庫類型的service，裡面的檔案會被import進需要的module；
    2.	core內放置操作流程相關的service，如LayoutCtrlService系列，或是啟動流程的InitService
    3. systems放置系統相關功能的service，如流程控制的NavgatorService、錯誤處理的HandleErrorService、切換語系的LanguageChangeService等
    4. d.	core及systems有其主要的module，會import其資料夾內大多數的程式。
2. shared資料夾放置會被重複利用的頁面資源，如Header、Footer、Button、Icon等，是最常被import的地方
3. conf內是環境設定檔
4. 一個頁面的module，會import conf的環境設定、systems的系統設定、必要的lib函式庫、Angular內建的功能、要串接的api、還有許許多多shared內的東西。
5. pages內除了有切換分頁功能的module外，最底層分頁的module也都會有對應的routing.module，其路由設定只有`const routes: Routes = [{path: '', component: PersonalInfoModifyPageComponent}];`，推測目的為在網址後輸入錯誤的網址也會被導回原本的頁面。

## 2022-06-16
1.	繼續研究範例專案的程式流程
    今天預計從首頁pages/mobile/home開始關注，看一個頁面module引入其他東西及export到其他地方的細節與過程。
    1.	有import Angular的相關套件SwiperModule(輪播套件模組)和TranslateModule(多語系切換模組)。
    2.	Home的home-routing會切換兩個分頁，首頁user-home及總覽頁menu-page，由下方footer導覽列切換。
    3.	引入shared/component的IconModule、ButtonsModule、BlockModule(版片區塊)、TypographyModule(排版模組，文字text的componet)、ModalCustomServiceModule(客服服務)、CardRateModule(匯率卡片)
    4.	頁面component除了div外幾乎不使用基本的html標籤，都是用上述module提供的component組成。
    5.	頁面component內有可拆出來的component或service或物件類別會獨立放在該頁資料夾內的shared資料夾，再給頁面import
    6.	頁面service主要import shared資料夾的其他檔案，如enum、util、pipe、obj等。
    7.	會有一個文件提供說明需要的東西放在shared的哪裡嗎?
    8.	↑當下面程式內用到時，可用tab快速輸入讓上面自動產生import，不用自己打路徑。

2.	如果要做一個新功能要做哪些事
    1.	依據需求建立API上行req下行res的格式。
    2.	建立Promise的service，相關方法繼承自公司內已有的ApiService。
    3.	建立用Promise取得資料的service。
    4.	頁面component寫網頁事件，如網頁初始化或查詢按鈕事件。
    5.	將使用者資訊用Promise取得的資料，放進公司已有的相關格式。
    6.	用已有的格式及區塊component，組成html頁面。
