---
date: 2022-06-16
aliases: []
tags: [工作日誌]
---
# JinHuang 0615工作日誌

1.	 David交代事項
    1.	工作日誌寫成條列式
    2.	多紀錄技術細節
    3.	重要步驟可直接截圖記錄

2.	了解package.json檔中script內已經寫好的指令意思
    1.	`"start": "node --max_old_space_size=12288 ./node_modules/@angular/cli/bin/ng serve"`
        1. `node --max_old_space_size=12288`
        設定node使用的最大記憶體，單位MB。
        因為有時候在起專案時會超出node的預設記憶體大小，所以設大一點避免錯誤。
        2.	`./node_modules/@angular/cli/bin/ng`
        指訂由專案文件內的angular來執行。
        猜測可能是避免打開專案的人電腦內沒安裝Angular，直接下ng指令會錯誤。
        也可避免開發者電腦內的angular版本可能與專案使用的版本不一致，但不一致時原本會預設自動使用專案內版本
        ![[./images/Pasted image 20220616154436.png]]
 
    2.	"start_host": "node --max_old_space_size=12288 ./node_modules/@angular/cli/bin/ng serve --host=0.0.0.0 --liveReload=false"
        1.	serve --host=0.0.0.0
        --host，設定要配置的伺服器位置，字串型別，預設localhost。
        --host=0.0.0.0不清楚設定0.0.0.0的用意。
        2.	--liveReload=false
        --live-reload是否及時更新畫面，布林值，預設true
        官方文件使用連字號非小駝峰式，在自己另開的測試專案(版本14)使用小駝峰會顯示錯誤Error: Unknown argument: liveReload，但在範例專案(版本11)使用正常，推測是版本問題。
    3.	"start_aot": "ng serve --aot"
    --aot是否使用預先(ahead-of-time)編譯器，布林值，預設true
    但從Angular 9已經將預先編譯器做為預設，所以此已為廢棄參數。若要改變設定可在angular.json內調整
    ![[Pasted image 20220616155002.png]] 
    ![[Pasted image 20220616155023.png]]  
    但在build指令中仍還可以使用—aot參數
    4.	"start_proxy": "ng serve --configuration=proxy --proxy-config proxy.conf.json --host=0.0.0.0"
        1.	--configuration=proxy
        --configuration選擇建構器使用何種命名配置，命名配置由angular.json的configurations屬性設定。
        ![[Pasted image 20220616155152.png]] 
        雖然看說明還是不清楚實際在設定什麼
        ![[Pasted image 20220616155215.png]] 
        2.	--proxy-config proxy.conf.json
        設定代理伺服器(proxy)的配置檔案
    5.	"start_demo": "ng serve --configuration=demo"
    因為在angular.json的configurations屬性中並沒有配置demo，所以此指令實際是無效的。
    ![[Pasted image 20220616155429.png]]
    6.	"build_prod": "ng build --prod"
    --prod，--configuration=production的簡寫。

3.	 了解範例專案的程式生命流程
    1.	先嘗試從import來理解引用關係。用drawio畫出引用鏈。
    module使用圓角矩形，component使用膠囊形，service使用直角矩形，其他類型使用平行四邊形。
    2.	到後期線條交錯太多不易閱讀，先終止行為並觀察。 
    [[./imges/範例專案import鏈地圖.jpg]]
    3.	個人理解:
        1.	service主要集中在systems、core、lib資料夾，其中:
            1.	lib內放置函式庫類型的service，裡面的檔案會被import進需要的module；
            2.	core內放置操作流程相關的service，如LayoutCtrlService系列，或是啟動流程的InitService；
            3.	systems放置系統相關功能的service，如流程控制的NavgatorService、錯誤處理的HandleErrorService、切換語系的LanguageChangeService等
            4.	core及systems有其主要的module，會import其資料夾內大多數的程式。
        2.	shared資料夾放置會被重複利用的頁面資源，如Header、Footer、Button、Icon等，是最常被import的地方
        3.	conf內是環境設定檔
        4.	一個頁面的module，會import conf的環境設定、systems的系統設定、必要的lib函式庫、Angular內建的功能、要串接的api、還有許許多多shared內的東西。
        5.	pages內除了有切換分頁功能的module外，最底層分頁的module也都會有對應的routing.module，其路由設定只有const routes: Routes = [{path: '', component: PersonalInfoModifyPageComponent}];，推測目的為在網址後輸入錯誤的網址也會被導回原本的頁面。

